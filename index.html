<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PepperOrSMTH.org</title>

  <style>
    :root {
      --rect1-color: #d83a3a;
      --rect2-color: #ff7272;
      --rect3-color: #ffa3a3;

      --rect-width: 300px;
      --rect-height: 96px;
      --rect-gap: 12px;
    }

    html, body {
      margin: 0;
      font-family: Arial, sans-serif;
      min-height: 200vh; /*scrolling*/
    }

    header {
      text-align: center;
      padding: 40px 16px 16px;
    }

    .site-logo {
      display: block;
      margin: 0 auto;
      max-width: 600px;
      width: 80%;
      height: auto;
    }

    main {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 60vh;
      padding: 2rem;
    }

img.hampter-animated {
  display: block;
  margin: 0 auto;
  transition: transform .4s ease, opacity .4s ease;
  width: clamp(420px, 70vw, 1200px);
  height: auto;
  max-width: 100%;
  filter: drop-shadow(6px 6px 10px rgba(0,0,0,0.5));
  border-radius: 16px; /* rounded corners */
}



    /* Right side container */
    .right-rectangles {
      position: fixed;
      right: 16px;
      top: 50%;
      transform: translateY(-50%);
      display: flex;
      flex-direction: column;
      gap: var(--rect-gap);
      align-items: center;
      z-index: 9998;
    }

    .rect {
      width: var(--rect-width);
      height: var(--rect-height);
      border-radius: 6px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.12);
      cursor: pointer;
      position: relative;
      overflow: hidden;
      transition: transform .12s ease, max-height .3s ease, opacity .3s ease;
    }

    .rect:active { transform: scale(.98); }
    .rect:focus { outline: 2px solid rgba(0,0,0,0.12); }

    .rect::before {
      content: var(--rect-label, "");
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #ffffff;
      font-weight: 700;
      font-size: 18px;
      text-shadow: 0 1px 2px rgba(0,0,0,0.35);
      pointer-events: none;
    }

    .rect--one { background: var(--rect1-color); --rect-label: "Chaper 2 Season 1 drop"; }
    .rect--two { background: var(--rect2-color); --rect-label: "Freaky place holder"; }
    .rect--three { background: var(--rect3-color); --rect-label: "Lange ei fan club page"; }

    /* Arrow button */
     .toggle-btn {
     width: 48px;
     height: 48px;
     background: url("arrow.png") center/contain no-repeat;
     cursor: pointer;
     border: none;
     outline: none;
     margin-bottom: 12px;
     transition: transform .3s ease;
     filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.5));
  }


    /* Hidden state for rects */
    .collapsed .rect {
      max-height: 0;
      opacity: 0;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <header>
    <img src="PepperOrSMTH.png" alt="PepperOrSMTH logo" class="site-logo" />
  </header>

  <main>
    <img src="Hampter.png" alt="Hampter" />
  </main>

  <!-- Right side toggle + rects -->
  <div class="right-rectangles collapsed" aria-hidden="true">
    <button class="toggle-btn" aria-label="Toggle menu"></button>
    <div class="rect rect--one"></div>
    <div class="rect rect--two"></div>
    <div class="rect rect--three"></div>
  </div>

  <script>
    // force background
    (function() {
      const defaultBg = '#ffffff';
      const defaultFg = '#000000';
      function applyBackground() {
        const params = new URLSearchParams(location.search);
        const bg = params.get('bg') || localStorage.getItem('pageBg') || defaultBg;
        const fg = params.get('fg') || localStorage.getItem('pageFg') || defaultFg;
        document.documentElement.style.setProperty('--page-bg', bg);
        document.documentElement.style.setProperty('--page-fg', fg);
        const style = document.createElement('style');
        style.textContent = `
          html, body {
            background: var(--page-bg, ${defaultBg}) !important;
            color: var(--page-fg, ${defaultFg});
          }
        `;
        document.head.appendChild(style);
      }
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', applyBackground);
      } else {
        applyBackground();
      }
    })();

    document.addEventListener('DOMContentLoaded', () => {
      // Rect links
      function makeRectLink(selector, url, target = '_self') {
        const el = document.querySelector(selector);
        if (!el) return;
        el.setAttribute('tabindex', '0');
        el.setAttribute('role', 'link');
        el.addEventListener('click', () => {
          target === '_blank' ? window.open(url, '_blank', 'noopener') : window.location.href = url;
        });
        el.addEventListener('keydown', e => {
          if (['Enter',' '].includes(e.key)) { e.preventDefault(); el.click(); }
        });
      }
      makeRectLink('.rect--one','https://pepperandsmth.github.io/silly-hampter-site-extra/','_blank');
      makeRectLink('.rect--two','https://media1.tenor.com/m/yFdoEPgtGhMAAAAC/freaky-sonic-sonic-the-hedgehog.gif','_blank');
      makeRectLink('.rect--three','https://pepperandsmth.github.io/Lange-ei-POM.org/','_blank');

      // Hampter animation
      const img = document.querySelector('main img[alt="Hampter"]');
      if (img) {
        img.classList.add('hampter-animated');
        const images = ['Hamptaah.png','Lange ei.png'];
        let index = images.indexOf(img.src.split('/').pop());
        if (index === -1) index = 0;
        img.src = images[index];
        let direction = 1;
        function swapImage() {
          img.style.transform = `translateX(${24*direction}px)`;
          img.style.opacity = '0';
          setTimeout(() => {
            index = 1-index;
            img.src = images[index];
            direction = -direction;
            img.style.transform = 'translateX(0)';
            img.style.opacity = '1';
          },420);
        }
        let interval = setInterval(swapImage,6000);
        img.addEventListener('mouseenter',()=>clearInterval(interval));
        img.addEventListener('mouseleave',()=>interval=setInterval(swapImage,6000));
        img.setAttribute('tabindex','0');
        img.addEventListener('keydown',e=>{
          if(['Enter',' '].includes(e.key)){e.preventDefault();swapImage();}
        });
      }

      // Toggle button for right rectangles
      const container = document.querySelector('.right-rectangles');
      const toggleBtn = document.querySelector('.toggle-btn');
      toggleBtn.addEventListener('click', () => {
        container.classList.toggle('collapsed');
        toggleBtn.style.transform = container.classList.contains('collapsed') ? "rotate(0deg)" : "rotate(220deg)";
      });

      // Footer
      const footer = document.createElement('footer');
      const emailLink = document.createElement('a');
      emailLink.href = "mailto:help.pepperorsmth@gmail.com";
      emailLink.textContent = "help.pepperorsmth@gmail.com";
      emailLink.style.color = "blue";
      emailLink.style.textDecoration = "underline";
      footer.append("Mail us at ", emailLink, " for any help/suggestions");
      Object.assign(footer.style, {
        position: 'fixed',
        left: '0',
        right: '10',
        bottom: '0',
        padding: '0.75rem',
        textAlign: 'center',
        background: '#ffffff',
        color: '#000',
        zIndex: '9999'
      });
      document.body.appendChild(footer);
    });
  </script>
</body>
</html>
